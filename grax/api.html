<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | RDF on Elixir</title>
    <meta name="description" content="Implementation of the Linked Data and Semantic Standards for Elixir">
    <link rel="manifest" href="/icons/manifest.json">
  <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="/icons/favicon.ico">
  <link rel="icon" sizes="192x192" href="/icons/favicon-192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/favicon-180-precomposed.png">
  <meta name="msapplication-TileImage" content="/icons/favicon-144.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.26047e9a.css" as="style"><link rel="preload" href="/assets/js/app.9947d21f.js" as="script"><link rel="preload" href="/assets/js/2.9c83fda1.js" as="script"><link rel="preload" href="/assets/js/8.86f42866.js" as="script"><link rel="preload" href="/assets/js/3.6456fe17.js" as="script"><link rel="prefetch" href="/assets/js/10.ee4ed3c6.js"><link rel="prefetch" href="/assets/js/11.467615b9.js"><link rel="prefetch" href="/assets/js/12.6022d75e.js"><link rel="prefetch" href="/assets/js/13.b74f4730.js"><link rel="prefetch" href="/assets/js/14.16bc6703.js"><link rel="prefetch" href="/assets/js/15.b2a2c70a.js"><link rel="prefetch" href="/assets/js/16.16aff3dd.js"><link rel="prefetch" href="/assets/js/17.e92fb19a.js"><link rel="prefetch" href="/assets/js/18.029f34a1.js"><link rel="prefetch" href="/assets/js/19.05cb4c74.js"><link rel="prefetch" href="/assets/js/20.269187c7.js"><link rel="prefetch" href="/assets/js/21.bb8ba48a.js"><link rel="prefetch" href="/assets/js/22.3ae550ed.js"><link rel="prefetch" href="/assets/js/23.fd1aa42f.js"><link rel="prefetch" href="/assets/js/24.da208f76.js"><link rel="prefetch" href="/assets/js/25.0da14ab4.js"><link rel="prefetch" href="/assets/js/26.db8227de.js"><link rel="prefetch" href="/assets/js/27.4c9e9654.js"><link rel="prefetch" href="/assets/js/28.54a222e6.js"><link rel="prefetch" href="/assets/js/29.bf2a75a3.js"><link rel="prefetch" href="/assets/js/30.1a834a5c.js"><link rel="prefetch" href="/assets/js/31.e898f5f2.js"><link rel="prefetch" href="/assets/js/32.1235ec14.js"><link rel="prefetch" href="/assets/js/33.abbed48e.js"><link rel="prefetch" href="/assets/js/34.4b01380f.js"><link rel="prefetch" href="/assets/js/35.3d8d8b6b.js"><link rel="prefetch" href="/assets/js/36.6466eb8a.js"><link rel="prefetch" href="/assets/js/37.d63216a3.js"><link rel="prefetch" href="/assets/js/38.5f244a36.js"><link rel="prefetch" href="/assets/js/39.292a3e39.js"><link rel="prefetch" href="/assets/js/4.54ba1511.js"><link rel="prefetch" href="/assets/js/40.feb4961e.js"><link rel="prefetch" href="/assets/js/5.d4e734fc.js"><link rel="prefetch" href="/assets/js/6.dd985d23.js"><link rel="prefetch" href="/assets/js/7.98d61040.js"><link rel="prefetch" href="/assets/js/9.5dff1e2d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26047e9a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RDF on Elixir</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/rdf-ex/" class="nav-link">RDF.ex</a></div><div class="nav-item"><a href="/sparql-ex/" class="nav-link">SPARQL.ex</a></div><div class="nav-item"><a href="/shex-ex/" class="nav-link">ShEx.ex</a></div><div class="nav-item"><a href="/grax/" class="nav-link router-link-active">Grax</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Documentation</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql_client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.Client
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/shex/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ShEx.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/json_ld/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON-LD.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf_xml/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF-XML.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/links.html" class="nav-link">Links</a></div> <a href="https://github.com/rdf-elixir/website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/rdf-ex/" class="nav-link">RDF.ex</a></div><div class="nav-item"><a href="/sparql-ex/" class="nav-link">SPARQL.ex</a></div><div class="nav-item"><a href="/shex-ex/" class="nav-link">ShEx.ex</a></div><div class="nav-item"><a href="/grax/" class="nav-link router-link-active">Grax</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Documentation</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql_client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.Client
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/shex/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ShEx.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/json_ld/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON-LD.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf_xml/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF-XML.ex
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/links.html" class="nav-link">Links</a></div> <a href="https://github.com/rdf-elixir/website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Grax</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/grax/" class="sidebar-link">Introduction</a></li><li><a href="/grax/installation.html" class="sidebar-link">Installation</a></li><li><a href="/grax/schemas.html" class="sidebar-link">Schemas</a></li><li><a href="/grax/api.html" class="active sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/grax/api.html#loading-from-rdf-graphs" class="sidebar-link">Loading from RDF graphs</a></li><li class="sidebar-sub-header"><a href="/grax/api.html#explicit-preloading" class="sidebar-link">Explicit preloading</a></li><li class="sidebar-sub-header"><a href="/grax/api.html#creation-from-scratch" class="sidebar-link">Creation from scratch</a></li><li class="sidebar-sub-header"><a href="/grax/api.html#schema-conformant-updates" class="sidebar-link">Schema-conformant updates</a></li><li class="sidebar-sub-header"><a href="/grax/api.html#validation-against-the-schema" class="sidebar-link">Validation against the schema</a></li><li class="sidebar-sub-header"><a href="/grax/api.html#mapping-to-rdf-graphs" class="sidebar-link">Mapping to RDF graphs</a></li></ul></li><li><a href="/grax/ids.html" class="sidebar-link">Ids</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api"><a href="#api" aria-hidden="true" class="header-anchor">#</a> API</h1> <p>As we've said, this is an early version, which can map RDF graphs only.
But even the mapping to RDF graphs is limited.
You can only map to and from RDF.ex graphs directly, not to graphs in triple stores via SPARQL. Also there are no querying capabilities. So, you'll have to provide the RDF.ex graphs by yourself and you'll get back an RDF.ex graph. You can use the serializing capabilities of RDF.ex or the SPARQL client to read and write the RDF.ex graph.</p> <p>The API for working with the <code>Grax.Schema</code> structs and the instances of these structs is available on the top-level <code>Grax</code> module and can be applied polymorphically on <code>Grax.Schema</code> structs (with two exceptions).</p> <p>In the following we will use the example from the last chapter to show the API in action. Here it is again. The example data:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>graph <span class="token operator">=</span>
  <span class="token string">&quot;&quot;&quot;
  @prefix : &lt;http://example.com/&gt; .
  @prefix schema: &lt;https://schema.org/&gt; .
  @prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

  :User1 
      a schema:Person, :PremiumUser ;
      schema:name &quot;Jane&quot; ;
      schema:email &quot;jane@example.com&quot;, &quot;jane@work.com&quot; ;
      foaf:age 30 .

  :Post1
      schema:author :User1 ;
      schema:name &quot;Lorem&quot; ;
      schema:articleBody &quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident, nihil, dignissimos. Nesciunt aut totam eius. Magnam quaerat modi vel sed, ipsam atque rem, eos vero ducimus beatae harum explicabo labore!&quot; .
  &quot;&quot;&quot;</span>
  <span class="token operator">|&gt;</span> RDF<span class="token punctuation">.</span>Turtle<span class="token punctuation">.</span>read_string!<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>The example <code>Grax.Schema</code> structs we've developed in the last chapter:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">defmodule</span> User <span class="token keyword">do</span>
  <span class="token keyword">use</span> Grax<span class="token punctuation">.</span>Schema

  <span class="token keyword">alias</span> NS<span class="token punctuation">.</span><span class="token punctuation">{</span>SchemaOrg<span class="token punctuation">,</span> FOAF<span class="token punctuation">,</span> EX<span class="token punctuation">}</span>

  schema SchemaOrg<span class="token punctuation">.</span>Person <span class="token keyword">do</span>
    property <span class="token attr-name">name:</span> SchemaOrg<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:string</span><span class="token punctuation">,</span> <span class="token attr-name">required:</span> <span class="token boolean">true</span>
    property <span class="token attr-name">emails:</span> SchemaOrg<span class="token punctuation">.</span>email<span class="token punctuation">,</span> <span class="token attr-name">type:</span> list_of<span class="token punctuation">(</span><span class="token atom symbol">:string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">required:</span> <span class="token boolean">true</span>
    property <span class="token attr-name">age:</span> FOAF<span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:integer</span>

    property <span class="token attr-name">customer_type:</span> RDF<span class="token punctuation">.</span>type<span class="token punctuation">,</span> 
               <span class="token attr-name">from_rdf:</span> <span class="token atom symbol">:customer_type_from_rdf</span><span class="token punctuation">,</span>
               <span class="token attr-name">to_rdf:</span> <span class="token atom symbol">:customer_type_to_rdf</span>

    field <span class="token atom symbol">:password</span>

    link <span class="token attr-name">friends:</span> FOAF<span class="token punctuation">.</span>friend<span class="token punctuation">,</span> <span class="token attr-name">type:</span> list_of<span class="token punctuation">(</span>User<span class="token punctuation">)</span>
    link <span class="token attr-name">posts:</span> <span class="token operator">-</span>SchemaOrg<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token attr-name">type:</span> list_of<span class="token punctuation">(</span>Post<span class="token punctuation">)</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> customer_type_from_rdf<span class="token punctuation">(</span>types<span class="token punctuation">,</span> _description<span class="token punctuation">,</span> _graph<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> <span class="token keyword">if</span><span class="token punctuation">(</span>RDF<span class="token punctuation">.</span>iri<span class="token punctuation">(</span>EX<span class="token punctuation">.</span>PremiumUser<span class="token punctuation">)</span> <span class="token operator">in</span> types<span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> customer_type_to_rdf<span class="token punctuation">(</span><span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span> _user<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> EX<span class="token punctuation">.</span>PremiumUser<span class="token punctuation">}</span>
  <span class="token keyword">def</span> customer_type_to_rdf<span class="token punctuation">(</span>_<span class="token punctuation">,</span> _<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">}</span>
<span class="token keyword">end</span>

<span class="token keyword">defmodule</span> Post <span class="token keyword">do</span>
  <span class="token keyword">use</span> Grax<span class="token punctuation">.</span>Schema

  <span class="token keyword">alias</span> NS<span class="token punctuation">.</span>SchemaOrg

  schema <span class="token keyword">do</span>
    property <span class="token attr-name">title:</span> SchemaOrg<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:string</span>
    property <span class="token attr-name">content:</span> SchemaOrg<span class="token punctuation">.</span>articleBody<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:string</span>
    link <span class="token attr-name">author:</span> SchemaOrg<span class="token punctuation">.</span>author<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> User
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre></div><h2 id="loading-from-rdf-graphs"><a href="#loading-from-rdf-graphs" aria-hidden="true" class="header-anchor">#</a> Loading from RDF graphs</h2> <p>You can load a <code>Grax.Schema</code> struct from the description in an RDF graph with the <code>Grax.load/3</code> function, which expects</p> <ol><li>the <code>Grax.Schema</code> struct module,</li> <li>the identifier of the resource to be loaded and</li> <li>a <code>RDF.Graph</code> with a description of this resource.</li></ol> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>load<span class="token punctuation">(</span>User<span class="token punctuation">,</span> EX<span class="token punctuation">.</span>User1<span class="token punctuation">,</span> graph<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span>
 <span class="token punctuation">%</span>User<span class="token punctuation">{</span>
   <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
   <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">customer_type:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span>
   <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@work.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">name:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
   <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">%</span>Post<span class="token punctuation">{</span>
       <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
       <span class="token attr-name">author:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
       <span class="token attr-name">content:</span> <span class="token string">&quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident, nihil, dignissimos. Nesciunt aut totam eius. Magnam quaerat modi vel sed, ipsam atque rem, eos vero ducimus beatae harum explicabo labore!&quot;</span><span class="token punctuation">,</span>
       <span class="token attr-name">title:</span> <span class="token string">&quot;Lorem&quot;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>Unlike most of the other functions working on existing <code>Grax.Schema</code> structs, you have to provide the <code>Grax.Schema</code> module explicitly. For this reason, the <code>Grax.Schema</code> modules provide a dedicated <code>load/2</code> function on which the order of the resource identifier and the graph arguments is swapped for better pipeline support. So, the following function call is equivalent to the previous call:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>graph <span class="token operator">|&gt;</span> User<span class="token punctuation">.</span>load<span class="token punctuation">(</span>EX<span class="token punctuation">.</span>User1<span class="token punctuation">)</span>
</code></pre></div><p>There are also bang variants of the both the general <code>Grax.load/3</code> and the dedicated <code>load/2</code> functions on the struct modules available, which return the result directly and fail in error cases as usual. But there's another difference between these <code>load</code> variants. The non-bang variant by default performs validations of the data against the schema (described further below), while the non-bang variant does not perform this validation step by default. However, you can control this validation step with the optional <code>:validate</code> option flag independently. Except for the different return type, the <code>load</code> variants just differ in the default value of this <code>:validate</code> option.</p> <div class="tip custom-block"><p>Loading values into the structs and performing the validation later is useful when you want to confront the user with invalid data, eg. in a HTML form for manual cleaning of the data.</p></div> <p>The links of a schema will be preloaded as configured in the schema specification. As described in the last chapter, currently only the depth-preloading strategy is implemented. And unless you've configured other preloading depths on the links or the schema, the default preloading depth of one is used, which means you'll get all data and link properties of the loaded resource, but from the linked resources just the data properties. The links of the linked resource won't be loaded.</p> <p>You can overwrite the preloading options from the schema on a <code>load</code>  call with the <code>:depth</code> option.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> User<span class="token punctuation">.</span>load<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> EX<span class="token punctuation">.</span>User1<span class="token punctuation">,</span> <span class="token attr-name">depth:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span>
 <span class="token punctuation">%</span>User<span class="token punctuation">{</span>
   <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
   <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">customer_type:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span>
   <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@work.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">name:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
   <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">%</span>Post<span class="token punctuation">{</span>
       <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
       <span class="token attr-name">author:</span> <span class="token punctuation">%</span>User<span class="token punctuation">{</span>
         <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
         <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
         <span class="token attr-name">customer_type:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span>
         <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@work.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token attr-name">name:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
         <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
         <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post1<span class="token operator">&gt;</span><span class="token punctuation">]</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token attr-name">content:</span> <span class="token string">&quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident, nihil, dignissimos. Nesciunt aut totam eius. Magnam quaerat modi vel sed, ipsam atque rem, eos vero ducimus beatae harum explicabo labore!&quot;</span><span class="token punctuation">,</span>
       <span class="token attr-name">title:</span> <span class="token string">&quot;Lorem&quot;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="explicit-preloading"><a href="#explicit-preloading" aria-hidden="true" class="header-anchor">#</a> Explicit preloading</h2> <p>There still can be occasions when a manual preloading is needed:</p> <ul><li>when the defaults, either from the schema or the <code>:depth</code> keyword on <code>load/3</code> weren't sufficient</li> <li>when a circle occurred during preloading, aborting the preloading further down</li> <li>or you simple discover later on, that you need further data</li></ul> <p>Instead of checking for <code>RDF.IRI</code> or <code>RDF.BlankNode</code> values on link properties to determine if a manual preloading is needed, you can use the <code>Grax.preloaded?/2</code> function with a schema and a specific property or <code>Grax.preloaded?/1</code> or with just the schema. The later will return <code>true</code> only when all link properties are preloaded.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> User<span class="token punctuation">.</span>load!<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> EX<span class="token punctuation">.</span>User1<span class="token punctuation">,</span> <span class="token attr-name">depth:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">|&gt;</span> Grax<span class="token punctuation">.</span>preloaded?<span class="token punctuation">(</span><span class="token atom symbol">:posts</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>

iex<span class="token operator">&gt;</span> User<span class="token punctuation">.</span>load!<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> EX<span class="token punctuation">.</span>User1<span class="token punctuation">,</span> <span class="token attr-name">depth:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">|&gt;</span> Grax<span class="token punctuation">.</span>preloaded?<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>
</code></pre></div><p>You can do a manual preload with the <code>Grax.preload/3</code> function.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> user <span class="token operator">=</span> User<span class="token punctuation">.</span>load!<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> EX<span class="token punctuation">.</span>User1<span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@work.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">%</span>Post<span class="token punctuation">{</span>
      <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
      <span class="token attr-name">author:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
      <span class="token attr-name">content:</span> <span class="token string">&quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident, nihil, dignissimos. Nesciunt aut totam eius. Magnam quaerat modi vel sed, ipsam atque rem, eos vero ducimus beatae harum explicabo labore!&quot;</span><span class="token punctuation">,</span>
      <span class="token attr-name">title:</span> <span class="token string">&quot;Lorem&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

iex<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>preload<span class="token punctuation">(</span>user<span class="token punctuation">,</span> graph<span class="token punctuation">,</span> <span class="token attr-name">depth:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span>
 <span class="token punctuation">%</span>User<span class="token punctuation">{</span>
   <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
   <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">customer_type:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span>
   <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@work.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">name:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
   <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">%</span>Post<span class="token punctuation">{</span>
       <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
       <span class="token attr-name">author:</span> <span class="token punctuation">%</span>Example<span class="token punctuation">.</span>User<span class="token punctuation">{</span>
         <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
         <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
         <span class="token attr-name">comments:</span> <span class="token comment">#Grax.Link.NotLoaded&lt;link :comments is not loaded&gt;,</span>
         <span class="token attr-name">customer_type:</span> <span class="token atom symbol">:premium_user</span><span class="token punctuation">,</span>
         <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;jane@example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jane@work.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token attr-name">name:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
         <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
         <span class="token attr-name">posts:</span> <span class="token comment">#Grax.Link.NotLoaded&lt;link :posts is not loaded&gt;</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token attr-name">content:</span> <span class="token string">&quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident, nihil, dignissimos. Nesciunt aut totam eius. Magnam quaerat modi vel sed, ipsam atque rem, eos vero ducimus beatae harum explicabo labore!&quot;</span><span class="token punctuation">,</span>
       <span class="token attr-name">title:</span> <span class="token string">&quot;Lorem&quot;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>Note, that this function essentially overwrites everything accept the data properties on the root node.</p> <h2 id="creation-from-scratch"><a href="#creation-from-scratch" aria-hidden="true" class="header-anchor">#</a> Creation from scratch</h2> <p>When an RDF description of a resource does not exist yet, but should be created in the application, the <code>build</code> functions can be used. Similar to the <code>load</code> functions there is also a bang-variant and as it requires the <code>Grax.Schema</code> module as the first argument too, there are are also dedicated functions of both <code>build</code> functions without this argument on the <code>Grax.Schema</code> modules available. The other required argument then remains the resource identifier.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> User<span class="token punctuation">.</span>build!<span class="token punctuation">(</span>EX<span class="token punctuation">.</span>User2<span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>ex<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can also pass initial values as a map or keyword list to each of the build functions:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> user <span class="token operator">=</span> User<span class="token punctuation">.</span>build!<span class="token punctuation">(</span>EX<span class="token punctuation">.</span>User2<span class="token punctuation">,</span> 
<span class="token operator">...</span>&gt;   <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> 
<span class="token operator">...</span>&gt;   <span class="token attr-name">email:</span> <span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">,</span> 
<span class="token operator">...</span>&gt;   <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token comment">#Grax.Link.NotLoaded&lt;link :friends is not loaded&gt;,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Again, the non-bang variant performs validations, while the bang variant doesn't.</p> <h2 id="schema-conformant-updates"><a href="#schema-conformant-updates" aria-hidden="true" class="header-anchor">#</a> Schema-conformant updates</h2> <p>You can set specific property values of <code>Grax.Schema</code> structs with the <code>Grax.put/3</code> function.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>put<span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token atom symbol">:age</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span>
 <span class="token punctuation">%</span>User<span class="token punctuation">{</span>
   <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
   <span class="token attr-name">age:</span> <span class="token number">42</span><span class="token punctuation">,</span>
   <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
   <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
   <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
   <span class="token attr-name">posts:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>All preexisting values of a property will be overwritten.</p> <p>If the value doesn't match the type of the property specified in the schema an <code>:error</code> with a detailed error struct is returned.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>put<span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token atom symbol">:age</span><span class="token punctuation">,</span> <span class="token string">&quot;old&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:error</span><span class="token punctuation">,</span>
 <span class="token punctuation">%</span>Grax<span class="token punctuation">.</span>Schema<span class="token punctuation">.</span>TypeError<span class="token punctuation">{</span>
   <span class="token attr-name">message:</span> <span class="token string">&quot;value \&quot;old\&quot; does not match type RDF.XSD.Integer&quot;</span><span class="token punctuation">,</span>
   <span class="token attr-name">type:</span> RDF<span class="token punctuation">.</span>XSD<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span>
   <span class="token attr-name">value:</span> <span class="token string">&quot;old&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>The non-bang variant doesn't perform validations. But even without that, you should always prefer the <code>Grax.put!/3</code> function over Elixir's <code>Map.put/3</code> function or other methods for updating structs, since it will behave schema-aware. For example, if you put a single value on a property with multiple possible values it will be put into a list:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>put!<span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token atom symbol">:email</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Nested structs can be set by providing a <code>Grax.Schema</code> struct accordingly.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>put!<span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token atom symbol">:posts</span><span class="token punctuation">,</span> Post<span class="token punctuation">.</span>build!<span class="token punctuation">(</span>EX<span class="token punctuation">.</span>Post2<span class="token punctuation">,</span> <span class="token attr-name">title:</span> <span class="token string">&quot;Foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">%</span>Post<span class="token punctuation">{</span>
      <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
      <span class="token attr-name">author:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
      <span class="token attr-name">content:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
      <span class="token attr-name">title:</span> <span class="token string">&quot;Foo&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can also provide the properties and the values of a nested struct as a map. This however requires that you either provide the id of the nested resource in the <code>__id__</code> field or that a Grax id schema is defined for the schema of the linked resource, so that the id can be generated automatically, which will be further discussed in the next chapter.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>put!<span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token atom symbol">:posts</span><span class="token punctuation">,</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">__id__:</span> EX<span class="token punctuation">.</span>Post2<span class="token punctuation">,</span> <span class="token attr-name">title:</span> <span class="token string">&quot;Foo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">%</span>Post<span class="token punctuation">{</span>
      <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
      <span class="token attr-name">author:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
      <span class="token attr-name">content:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
      <span class="token attr-name">title:</span> <span class="token string">&quot;Foo&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>It is also possible to put just the node identifier of a linked resource as a <code>RDF.IRI</code> or <code>RDF.BlankNode</code>.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>put!<span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token atom symbol">:posts</span><span class="token punctuation">,</span> EX<span class="token punctuation">.</span>Post2<span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span>~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post2<span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>Grax.put/2</code> and <code>Grax.put!/2</code>  functions also allow to set multiple values at once with a map or keyword list.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>build!<span class="token punctuation">(</span>user<span class="token punctuation">,</span> 
<span class="token operator">...</span>&gt;   <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@doe.com&quot;</span> <span class="token operator">|</span> user<span class="token punctuation">.</span>email<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">...</span>&gt;   <span class="token attr-name">age:</span> user<span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">%</span>User<span class="token punctuation">{</span>
  <span class="token attr-name">__id__:</span> ~I<span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token attr-name">age:</span> <span class="token number">43</span><span class="token punctuation">,</span>
  <span class="token attr-name">customer_type:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>
  <span class="token attr-name">email:</span> <span class="token punctuation">[</span><span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">friends:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">name:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">password:</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">posts:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="validation-against-the-schema"><a href="#validation-against-the-schema" aria-hidden="true" class="header-anchor">#</a> Validation against the schema</h2> <p>A <code>Grax.Schema</code> struct can be validated with the <code>Grax.validate/1</code> function which either returns the given <code>Grax.Schema</code> struct unchanged in an <code>:ok</code> tuple. Otherwise an <code>:error</code> tuple with a <code>Grax.ValidationError</code> containing a collection of all failed validations.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> User<span class="token punctuation">.</span>build!<span class="token punctuation">(</span>EX<span class="token punctuation">.</span>User2<span class="token punctuation">,</span> 
<span class="token operator">...</span>&gt;   <span class="token attr-name">name:</span> <span class="token punctuation">[</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;JD&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">...</span>&gt;   <span class="token attr-name">age:</span> <span class="token string">&quot;old&quot;</span><span class="token punctuation">)</span>
<span class="token operator">...</span>&gt; <span class="token operator">|&gt;</span> Grax<span class="token punctuation">.</span>validate<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:error</span><span class="token punctuation">,</span>
 <span class="token punctuation">%</span>Grax<span class="token punctuation">.</span>ValidationError<span class="token punctuation">{</span>
   <span class="token attr-name">errors:</span> <span class="token punctuation">[</span>
     <span class="token attr-name">name:</span> <span class="token punctuation">%</span>Grax<span class="token punctuation">.</span>Schema<span class="token punctuation">.</span>TypeError<span class="token punctuation">{</span>
       <span class="token attr-name">message:</span> <span class="token string">&quot;value [\&quot;John\&quot;, \&quot;JD\&quot;] does not match type RDF.XSD.String&quot;</span><span class="token punctuation">,</span>
       <span class="token attr-name">type:</span> RDF<span class="token punctuation">.</span>XSD<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
       <span class="token attr-name">value:</span> <span class="token punctuation">[</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;JD&quot;</span><span class="token punctuation">]</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token attr-name">email:</span> <span class="token punctuation">%</span>Grax<span class="token punctuation">.</span>Schema<span class="token punctuation">.</span>CardinalityError<span class="token punctuation">{</span>
       <span class="token attr-name">message:</span> <span class="token string">&quot;[] does not match cardinality {:min, 1}&quot;</span><span class="token punctuation">,</span>
       <span class="token attr-name">cardinality:</span> <span class="token punctuation">{</span><span class="token atom symbol">:min</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
       <span class="token attr-name">value:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token attr-name">age:</span> <span class="token punctuation">%</span>Grax<span class="token punctuation">.</span>Schema<span class="token punctuation">.</span>TypeError<span class="token punctuation">{</span>
       <span class="token attr-name">message:</span> <span class="token string">&quot;value \&quot;old\&quot; does not match type RDF.XSD.Integer&quot;</span><span class="token punctuation">,</span>
       <span class="token attr-name">type:</span> RDF<span class="token punctuation">.</span>XSD<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span>
       <span class="token attr-name">value:</span> <span class="token string">&quot;old&quot;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="mapping-to-rdf-graphs"><a href="#mapping-to-rdf-graphs" aria-hidden="true" class="header-anchor">#</a> Mapping to RDF graphs</h2> <p>With the <code>Grax.to_rdf/1</code> function finally, you can map a <code>Grax.Schema</code> struct to a <code>RDF.Graph</code>.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code>iex<span class="token operator">&gt;</span> Grax<span class="token punctuation">.</span>to_rdf<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span>
 <span class="token comment">#RDF.Graph&lt;name: nil</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">rdf:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>w3<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token number">1999</span><span class="token operator">/</span><span class="token number">02</span><span class="token operator">/</span><span class="token number">22</span><span class="token operator">-</span>rdf<span class="token operator">-</span>syntax<span class="token operator">-</span>ns<span class="token comment">#&gt; .</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">rdfs:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>w3<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token number">2000</span><span class="token operator">/</span><span class="token number">01</span><span class="token operator">/</span>rdf<span class="token operator">-</span>schema<span class="token comment">#&gt; .</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">xsd:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>w3<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token number">2001</span><span class="token operator">/</span>XMLSchema<span class="token comment">#&gt; .</span>
  
  <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>Post2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token attr-name">https:</span><span class="token operator">/</span><span class="token operator">/</span>schema<span class="token punctuation">.</span>org<span class="token operator">/</span>author<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span> ;
      <span class="token operator">&lt;</span><span class="token attr-name">https:</span><span class="token operator">/</span><span class="token operator">/</span>schema<span class="token punctuation">.</span>org<span class="token operator">/</span>name<span class="token operator">&gt;</span> <span class="token string">&quot;Foo&quot;</span> <span class="token punctuation">.</span>
  
  <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>User2<span class="token operator">&gt;</span>
      a <span class="token operator">&lt;</span><span class="token attr-name">https:</span><span class="token operator">/</span><span class="token operator">/</span>schema<span class="token punctuation">.</span>org<span class="token operator">/</span>Person<span class="token operator">&gt;</span> ; 
      <span class="token operator">&lt;</span><span class="token attr-name">https:</span><span class="token operator">/</span><span class="token operator">/</span>schema<span class="token punctuation">.</span>org<span class="token operator">/</span>email<span class="token operator">&gt;</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@example.com&quot;</span> ;
      <span class="token operator">&lt;</span><span class="token attr-name">https:</span><span class="token operator">/</span><span class="token operator">/</span>schema<span class="token punctuation">.</span>org<span class="token operator">/</span>name<span class="token operator">&gt;</span> <span class="token string">&quot;John&quot;</span> ;
      <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>xmlns<span class="token punctuation">.</span>com<span class="token operator">/</span>foaf<span class="token operator">/</span><span class="token number">0.1</span><span class="token operator">/</span>age<span class="token operator">&gt;</span> <span class="token number">43</span> <span class="token punctuation">.</span>
<span class="token operator">&gt;</span><span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p>The options given to <code>Grax.to_rdf/2</code> as the optional second argument are passed-through as options to the <code>RDF.Graph.new/2</code> call used for the creation of the graph. This allows you to set the name of the graph, define some prefixes, a base URI etc.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/rdf-elixir/website/edit/master/content/grax/api.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/grax/schemas.html" class="prev">
          Schemas
        </a></span> <span class="next"><a href="/grax/ids.html">
          Ids
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.9947d21f.js" defer></script><script src="/assets/js/2.9c83fda1.js" defer></script><script src="/assets/js/8.86f42866.js" defer></script><script src="/assets/js/3.6456fe17.js" defer></script>
  </body>
</html>
